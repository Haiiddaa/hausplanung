<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flappy Bird</title>
    <style>
        canvas {
            border: 1px solid #000;
            display: block;
            margin: 0 auto;
        }

        #restartButton {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: green;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="images/logo.png" alt="Hausplanung Logo">
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="livingroom.html">Wohnzimmer</a></li>
                    <li><a href="kitchen.html">Küche</a></li>
                    <li><a href="bedroom.html">Schlafzimmer</a></li>
                    <li><a href="bathroom.html">Badezimmer</a></li>
                    <li><a href="contact.html">Kontakt</a></li>
                    <li><a href="planning.html">Planungswerkzeug</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <canvas id="gameCanvas" width="288" height="512"></canvas>
    <button id="restartButton">Neustart</button>
    <div id="score"></div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        const restartButton = document.getElementById('restartButton');
        const scoreDisplay = document.getElementById('score');

        // Hintergrundbild
        const background = new Image();
        background.src = 'images/background.png';

        // Vogelbild
        const bird = new Image();
        bird.src = 'images/bird.png';

        // Bodenbild
        const ground = new Image();
        ground.src = 'images/ground.png';

        // Vogelposition und Geschwindigkeit
        let birdY = canvas.height / 2;
        let gravity = 1.5;
        let velocity = 0;

        // Bodenposition
        let groundX = 0;

        // Punkte
        let score = 0;

        // Tastatursteuerung
        document.addEventListener('keydown', flap);

        function flap(event) {
            if (event.code === 'Space') {
                velocity = -20; // Flug nach oben
            }
        }

        // Neustartfunktion
        restartButton.addEventListener('click', restartGame);

        function restartGame() {
            score = 0;
            birdY = canvas.height / 2;
            velocity = 0;
            restartButton.style.display = 'none';
            draw();
        }

        // Spiellogik
        function draw() {
            ctx.drawImage(background, 0, 0);

            // Bewege den Boden nach links
            groundX -= 1;
            if (groundX <= -ground.width) {
                groundX = 0;
            }

            // Zeichne den Boden
            ctx.drawImage(ground, groundX, canvas.height - ground.height);
            ctx.drawImage(ground, groundX + ground.width, canvas.height - ground.height);

            // Bewege den Vogel nach unten
            velocity += gravity;
            birdY += velocity;

            // Prüfe, ob der Vogel den Boden berührt
            if (birdY >= canvas.height - ground.height - bird.height) {
                // Du bist gestorben!
                ctx.font = '30px Arial';
                ctx.fillStyle = 'red';
                ctx.fillText('Du bist gestorben!', canvas.width / 2 - 120, canvas.height / 2);
                restartButton.style.display = 'block';
                return; // Beende das Spiel
            }

            // Prüfe, ob der Vogel den oberen Bildschirmrand berührt
            if (birdY <= 0) {
                birdY = 0;
                velocity = 1;
            }

            // Zeichne den Vogel
            ctx.drawImage(bird, 10, birdY);

            // Punkte
            score++;
            scoreDisplay.innerText = 'Punkte: ' + score;

            requestAnimationFrame(draw);
        }

        draw(); // Starte das Spiel
    </script>
</body>
</html>
